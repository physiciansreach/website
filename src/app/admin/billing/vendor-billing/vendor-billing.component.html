<div fxLayout="column" fxLayoutGap="25px">
  <table mat-table matSort class="mat-elevation-z8" [dataSource]="datasource">

    <ng-container matColumnDef="intakeFormId">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
      <td mat-cell *matCellDef="let result"> {{result.intakeFormId}} </td>
    </ng-container>

    <ng-container matColumnDef="createdOn">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Created On </th>
      <td mat-cell *matCellDef="let result"> {{result.createdOn | date}} </td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
      <td mat-cell *matCellDef="let result"> {{result.status | intakeStatus}} </td>
    </ng-container>

    <ng-container matColumnDef="patientName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Patient </th>
      <td mat-cell *matCellDef="let result"> {{result.patientName}} </td>
    </ng-container>

    <ng-container matColumnDef="patientState">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Patient's State </th>
      <td mat-cell *matCellDef="let result"> {{result.patientState}} </td>
    </ng-container>

    <ng-container matColumnDef="vendorName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Vendor </th>
      <td mat-cell *matCellDef="let result"> {{result.vendorName}} </td>
    </ng-container>

    <ng-container matColumnDef="agentName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Agent </th>
      <td mat-cell *matCellDef="let result"> {{result.agentName}} </td>
    </ng-container>

    <ng-container matColumnDef="vendorBilled">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Vendor Billed </th>
      <td mat-cell *matCellDef="let result">
        <mat-checkbox labelPosition="before" color="primary" [checked]="result.vendorBilled"
          (change)="billed($event, result.intakeFormId)">
        </mat-checkbox>
      </td>
    </ng-container>

    <ng-container matColumnDef="vendorPaid">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Vendor Paid </th>
      <td mat-cell *matCellDef="let result">
        <mat-checkbox labelPosition="before" color="primary" [checked]="result.vendorPaid"
          (change)="paid($event, result.intakeFormId)">
        </mat-checkbox>
      </td>
    </ng-container>

    <ng-container matColumnDef="download">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Download </th>
      <td mat-cell *matCellDef="let result">
        <button mat-raised-button color="accent" (click)="download(result.documentId)"
          [disabled]="result.status < IntakeStatus.Approved">Download</button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef=" columnsToDisplay "></tr>
    <tr mat-row *matRowDef="let myRowData; columns: columnsToDisplay "></tr>
  </table>

  <div fxLayoutAlign="end">
    <button type="save" mat-raised-button color="accent" (click)="save()">Save Changes</button>
  </div>
</div>